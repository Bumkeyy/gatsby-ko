---
title: 중첩된 레이아웃 컴포넌트 만들기
typora-copy-images-to: ./
disableTableOfContents: true
---

파트 3에 오신 것을 환영합니다!

## 이번 튜토리알에서 다룰 것

이번 파트에서 여러분은 Gatsby 플러그인과 "레이아웃" 컴포넌트를 만드는 방법을 배울 것입니다.

Gatsby plugins are JavaScript packages that help add functionality to a Gatsby site. Gatsby is designed to be extensible, which means plugins are able to extend and modify just about everything Gatsby does.

Layout components are for sections of your site that you want to share across multiple pages. For example, sites will commonly have a layout component with a shared header and footer. Other common things to add to layouts are a sidebar and/or navigation menu. On this page for example, the header at the top is part of gatsbyjs.org's layout component.

Let's dive into part three.

## 플러그인 사용하기

여러분은 아마 플러그인에 대해서 익히 들어봤을 것입니다. 많은 소프트웨어 시스템이 커스텀 플러그인을 추가해서 새로운 기능을 추가하거나 소프트웨어 코어의 작동 방식을 변경할 수 있습니다. Gatsby 플러그인도 동일한 방식으로 작동합니다.

여러분과 같은 커뮤니티 멤버들도 다른 사람들이 Gatsby 사이트를 만들때 사용가능한 플러그인(적은 분량의 자바스크립트 코드)에 기여할 수 있습니다.


> 이미 수백개의 플러그인이 있어요! Gatsby [플러그인 라이브러리](/plugins/)를 둘러보세요.

플러그인의 목표는 플러그인의 설치 및 사용하기 쉽게 만드는 것입니다. 아마도 여러분이 만들 대부분의 Gatsby 사이트는 플러그인이 사용될 것입니다. 남은 튜토리얼을 진행하면서 여러분은 플러그인의 설치 및 사용 방법을 여러번 연습하게 될 것입니다.

이번 플러그인 사용에 대한 초기 소개를 위해 Typography.js용 Gatsby 플러그인을 설치하고 구현하겠습니다.

[Typography.js](https://kyleamathews.github.io/typography.js/)는 사이트의 타이포그래피의 전역 베이스 스타일을 생성하는 자바스크립트 라이브러리 입니다. 이 라이브러리는 Gatsby 사이트에서 간편하게 사용할 수 있는 [대응하는 Gatsby 플러그인](/packages/gatsby-plugin-typography/)이 있습니다.

### ✋ 새로운 Gatsby 사이트를 만들기

As we mentioned in [part two](/tutorial/part-two/), at this point it's probably a good idea to close the terminal window(s) and project files from previous parts of the tutorial, to keep things clean on your desktop. Then open a new terminal window and run the following commands to create a new Gatsby site in a directory called `tutorial-part-three` and then move to this new directory:

```shell
gatsby new tutorial-part-three https://github.com/gatsbyjs/gatsby-starter-hello-world
cd tutorial-part-three
```

### ✋ `gatsby-plugin-typography`의 설치 및 설정

There are two main steps to using a plugin: Installing and configuring.

1. Install the `gatsby-plugin-typography` NPM package.

```shell
npm install --save gatsby-plugin-typography react-typography typography typography-theme-fairy-gates
```

> Note: Typography.js requires a few additional packages, so those are included in the instructions. Additional requirements like this will be listed in the "install" instructions of each plugin.

2. Edit the file `gatsby-config.js` at the root of your project to the following:

```javascript:title=gatsby-config.js
module.exports = {
  plugins: [
    {
      resolve: `gatsby-plugin-typography`,
      options: {
        pathToConfigModule: `src/utils/typography`,
      },
    },
  ],
}
```

The `gatsby-config.js` is another special file that Gatsby will automatically recognize. This is where you add plugins and other site configuration.

> Check out the [doc on gatsby-config.js](/docs/gatsby-config/) to read more, if you wish.

3. Typography.js needs a configuration file. Create a new directory called `utils` in the `src` directory. Then add a new file called `typography.js` to `utils` and copy the following into the file:

```javascript:title=src/utils/typography.js
import Typography from "typography"
import fairyGateTheme from "typography-theme-fairy-gates"

const typography = new Typography(fairyGateTheme)

export const { scale, rhythm, options } = typography
export default typography
```

4. Start the development server.

```shell
gatsby develop
```

Once you load the site, if you inspect the generated HTML using the Chrome developer tools, you’ll see that the typography plugin added a `<style>` element to the `<head>` element with its generated CSS:

![typography-styles](typography-styles.png)

### ✋ 컨텐츠 만들기와 스타일 바꾸기

Copy the following into your `src/pages/index.js` so you can see the
effect of the CSS generated by Typography.js better.

```jsx:title=src/pages/index.js
import React from "react"

export default () => (
  <div>
    <h1>Hi! I'm building a fake Gatsby site as part of a tutorial!</h1>
    <p>
      What do I like to do? Lots of course but definitely enjoy building
      websites.
    </p>
  </div>
)
```

Your site should now look like this:

![no-layout](no-layout.png)

Let's make a quick improvement. Many sites have a single column of text centered in the middle of the page. To create this, add the following styles to the
`<div>` in `src/pages/index.js`.

```jsx:title=src/pages/index.js
import React from "react"

export default () => (
  // highlight-next-line
  <div style={{ margin: `3rem auto`, maxWidth: 600 }}>
    <h1>Hi! I'm building a fake Gatsby site as part of a tutorial!</h1>
    <p>
      What do I like to do? Lots of course but definitely enjoy building
      websites.
    </p>
  </div>
)
```

![with-layout2](with-layout2.png)

Sweet. You've installed and configured your very first Gatsby plugin!

## 레이아웃 컴포넌트 만들기

Now let's move on to learning about layout components. To get ready for this part, add a couple new pages to your project: an about page and a contact page.

```jsx:title=src/pages/about.js
import React from "react"

export default () => (
  <div>
    <h1>About me</h1>
    <p>I’m good enough, I’m smart enough, and gosh darn it, people like me!</p>
  </div>
)
```

```jsx:title=src/pages/contact.js
import React from "react"

export default () => (
  <div>
    <h1>I'd love to talk! Email me at the address below</h1>
    <p>
      <a href="mailto:me@example.com">me@example.com</a>
    </p>
  </div>
)
```

Let's see what the new about page looks like:

![about-uncentered](about-uncentered.png)

Hmm. It would be nice if the content of the two new pages were centered like the index page. And it would be nice to have some sort of global navigation so it's easy for visitors to find and visit each of the sub-pages.

You'll tackle these changes by creating your first layout component.

### ✋ 첫번째 레이아웃 컴포넌트 만들기

1. Create a new directory at `src/components`.

2. Create a very basic layout component at `src/components/layout.js`:

```jsx:title=src/components/layout.js
import React from "react"

export default ({ children }) => (
  <div style={{ margin: `3rem auto`, maxWidth: 650, padding: `0 1rem` }}>
    {children}
  </div>
)
```

3. Import this new layout component into your `src/pages/index.js` page component:

```jsx:title=src/pages/index.js
import React from "react"
import Layout from "../components/layout" // highlight-line

export default () => (
  <Layout> {/* highlight-line */}
    <h1>Hi! I'm building a fake Gatsby site as part of a tutorial!</h1>
    <p>
      What do I like to do? Lots of course but definitely enjoy building
      websites.
    </p>
  </Layout> {/* highlight-line */}
)
```

![with-layout2](with-layout2.png)

Sweet, the layout is working! The content of your index page is still centered.

But try navigating to `/about/`, or `/contact/`. The content on those pages still won't be centered.

4. Import the layout component in `about.js` and `contact.js` (as you did for `index.js` in the previous step).

The content of all three of your pages is centered thanks to this single shared layout component!

### ✋ 사이트 타이틀 추가하기

1. Add the following line to your new layout component:

```jsx:title=src/components/layout.js
import React from "react"

export default ({ children }) => (
  <div style={{ margin: `3rem auto`, maxWidth: 650, padding: `0 1rem` }}>
    <h3>MySweetSite</h3> {/* highlight-line */}
    {children}
  </div>
)
```

If you go to any of your three pages, you'll see the same title added, e.g. the `/about/` page:

![with-title](with-title.png)

### ✋ 페이지 간에 네비게이션 링크 추가하기

1. Copy the following into your layout component file:

```jsx:title=src/components/layout.js
import React from "react"
// highlight-start
import { Link } from "gatsby"

const ListLink = props => (
  <li style={{ display: `inline-block`, marginRight: `1rem` }}>
    <Link to={props.to}>{props.children}</Link>
  </li>
)
// highlight-end

export default ({ children }) => (
  <div style={{ margin: `3rem auto`, maxWidth: 650, padding: `0 1rem` }}>
    {/* highlight-start */}
    <header style={{ marginBottom: `1.5rem` }}>
      <Link to="/" style={{ textShadow: `none`, backgroundImage: `none` }}>
        <h3 style={{ display: `inline` }}>MySweetSite</h3>
      </Link>
      <ul style={{ listStyle: `none`, float: `right` }}>
        <ListLink to="/">Home</ListLink>
        <ListLink to="/about/">About</ListLink>
        <ListLink to="/contact/">Contact</ListLink>
      </ul>
    </header>
    {/* highlight-end */}
    {children}
  </div>
)
```

![with-navigation2](with-navigation2.png)

And there you have it! A three page site with basic global navigation.

_Challenge:_ With your new "layout component" powers, trying adding headers, footers, global navigation, sidebars, etc. to your Gatsby sites!

## 다음에 할 것은?

[튜토리알 파트 4](/tutorial/part-four/)에서는 Gatsby 데이터 레이어와 프로그래밍 방식으로 페이지를 만드는 방법을 배워볼 것입니다
